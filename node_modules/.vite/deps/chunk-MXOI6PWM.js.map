{
  "version": 3,
  "sources": ["../../focus-options-polyfill/index.js"],
  "sourcesContent": ["// focus - focusOptions - preventScroll polyfill\n(function() {\n  if (\n    typeof window === \"undefined\" ||\n    typeof document === \"undefined\" ||\n    typeof HTMLElement === \"undefined\"\n  ) {\n    return;\n  }\n\n  var supportsPreventScrollOption = false;\n  try {\n    var focusElem = document.createElement(\"div\");\n    focusElem.addEventListener(\n      \"focus\",\n      function(event) {\n        event.preventDefault();\n        event.stopPropagation();\n      },\n      true\n    );\n    focusElem.focus(\n      Object.defineProperty({}, \"preventScroll\", {\n        get: function() {\n          // Edge v18 gives a false positive for supporting inputs\n          if (\n            navigator &&\n            typeof navigator.userAgent !== 'undefined' &&\n            navigator.userAgent &&\n            navigator.userAgent.match(/Edge\\/1[7-8]/)) {\n              return supportsPreventScrollOption = false\n          }\n\n          supportsPreventScrollOption = true;\n        }\n      })\n    );\n  } catch (e) {}\n\n  if (\n    HTMLElement.prototype.nativeFocus === undefined &&\n    !supportsPreventScrollOption\n  ) {\n    HTMLElement.prototype.nativeFocus = HTMLElement.prototype.focus;\n\n    var calcScrollableElements = function(element) {\n      var parent = element.parentNode;\n      var scrollableElements = [];\n      var rootScrollingElement =\n        document.scrollingElement || document.documentElement;\n\n      while (parent && parent !== rootScrollingElement) {\n        if (\n          parent.offsetHeight < parent.scrollHeight ||\n          parent.offsetWidth < parent.scrollWidth\n        ) {\n          scrollableElements.push([\n            parent,\n            parent.scrollTop,\n            parent.scrollLeft\n          ]);\n        }\n        parent = parent.parentNode;\n      }\n      parent = rootScrollingElement;\n      scrollableElements.push([parent, parent.scrollTop, parent.scrollLeft]);\n\n      return scrollableElements;\n    };\n\n    var restoreScrollPosition = function(scrollableElements) {\n      for (var i = 0; i < scrollableElements.length; i++) {\n        scrollableElements[i][0].scrollTop = scrollableElements[i][1];\n        scrollableElements[i][0].scrollLeft = scrollableElements[i][2];\n      }\n      scrollableElements = [];\n    };\n\n    var patchedFocus = function(args) {\n      if (args && args.preventScroll) {\n        var evScrollableElements = calcScrollableElements(this);\n        if (typeof setTimeout === 'function') {\n          var thisElem = this;\n          setTimeout(function () {\n            thisElem.nativeFocus();\n            restoreScrollPosition(evScrollableElements);\n          }, 0);\n        } else {\n          this.nativeFocus();\n          restoreScrollPosition(evScrollableElements);\n        }\n      }\n      else {\n        this.nativeFocus();\n      }\n    };\n\n    HTMLElement.prototype.focus = patchedFocus;\n  }\n})();\n"],
  "mappings": ";CACC,WAAW;AACV,MACE,OAAO,WAAW,eAClB,OAAO,aAAa,eACpB,OAAO,gBAAgB,aACvB;AACA;AAAA,EACF;AAEA,MAAI,8BAA8B;AAClC,MAAI;AACF,QAAI,YAAY,SAAS,cAAc,KAAK;AAC5C,cAAU;AAAA,MACR;AAAA,MACA,SAAS,OAAO;AACd,cAAM,eAAe;AACrB,cAAM,gBAAgB;AAAA,MACxB;AAAA,MACA;AAAA,IACF;AACA,cAAU;AAAA,MACR,OAAO,eAAe,CAAC,GAAG,iBAAiB;AAAA,QACzC,KAAK,WAAW;AAEd,cACE,aACA,OAAO,UAAU,cAAc,eAC/B,UAAU,aACV,UAAU,UAAU,MAAM,cAAc,GAAG;AACzC,mBAAO,8BAA8B;AAAA,UACzC;AAEA,wCAA8B;AAAA,QAChC;AAAA,MACF,CAAC;AAAA,IACH;AAAA,EACF,SAAS,GAAG;AAAA,EAAC;AAEb,MACE,YAAY,UAAU,gBAAgB,UACtC,CAAC,6BACD;AACA,gBAAY,UAAU,cAAc,YAAY,UAAU;AAE1D,QAAI,yBAAyB,SAAS,SAAS;AAC7C,UAAI,SAAS,QAAQ;AACrB,UAAI,qBAAqB,CAAC;AAC1B,UAAI,uBACF,SAAS,oBAAoB,SAAS;AAExC,aAAO,UAAU,WAAW,sBAAsB;AAChD,YACE,OAAO,eAAe,OAAO,gBAC7B,OAAO,cAAc,OAAO,aAC5B;AACA,6BAAmB,KAAK;AAAA,YACtB;AAAA,YACA,OAAO;AAAA,YACP,OAAO;AAAA,UACT,CAAC;AAAA,QACH;AACA,iBAAS,OAAO;AAAA,MAClB;AACA,eAAS;AACT,yBAAmB,KAAK,CAAC,QAAQ,OAAO,WAAW,OAAO,UAAU,CAAC;AAErE,aAAO;AAAA,IACT;AAEA,QAAI,wBAAwB,SAAS,oBAAoB;AACvD,eAAS,IAAI,GAAG,IAAI,mBAAmB,QAAQ,KAAK;AAClD,2BAAmB,CAAC,EAAE,CAAC,EAAE,YAAY,mBAAmB,CAAC,EAAE,CAAC;AAC5D,2BAAmB,CAAC,EAAE,CAAC,EAAE,aAAa,mBAAmB,CAAC,EAAE,CAAC;AAAA,MAC/D;AACA,2BAAqB,CAAC;AAAA,IACxB;AAEA,QAAI,eAAe,SAAS,MAAM;AAChC,UAAI,QAAQ,KAAK,eAAe;AAC9B,YAAI,uBAAuB,uBAAuB,IAAI;AACtD,YAAI,OAAO,eAAe,YAAY;AACpC,cAAI,WAAW;AACf,qBAAW,WAAY;AACrB,qBAAS,YAAY;AACrB,kCAAsB,oBAAoB;AAAA,UAC5C,GAAG,CAAC;AAAA,QACN,OAAO;AACL,eAAK,YAAY;AACjB,gCAAsB,oBAAoB;AAAA,QAC5C;AAAA,MACF,OACK;AACH,aAAK,YAAY;AAAA,MACnB;AAAA,IACF;AAEA,gBAAY,UAAU,QAAQ;AAAA,EAChC;AACF,GAAG;",
  "names": []
}
